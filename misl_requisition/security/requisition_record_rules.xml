<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>


        <record id="requisition_company_wise" model="ir.rule">
            <field name="name">Requisition Multi Company</field>
            <field name="model_id" ref="misl_requisition.model_requisition_master"/>
            <field name="domain_force">['|',('company_id','=', False),('company_id','in', company_ids)]</field>
            <field name="global">True</field>
        </record>


        <record id="requisition_rule_user" model="ir.rule">
            <field name="name">Requisition Own Rule</field>
            <field name="model_id" ref="misl_requisition.model_requisition_master"/>
            <field name="domain_force">['&amp;', '|', ('initiator_id','=', user.id), ('employee_id.user_id', '=', user.id), '|', ('warehouse_id', 'in', warehouse_ids), ('warehouse_src_id', 'in', warehouse_ids)]</field>
            <field name="groups" eval="[(4, ref('misl_requisition.misl_requisition_user'))]"/>
        </record>

        <record id="requisition_supervisor" model="ir.rule">
            <field name="name">Requisition Supervisor Rule</field>
            <field name="model_id" ref="misl_requisition.model_requisition_master"/>
            <field name="domain_force">['&amp;', '|', '|',('initiator_id','=', user.id), ('employee_id.user_id', '=', user.id),('employee_id.parent_id.user_id', '=', user.id), '|', ('warehouse_id', 'in', warehouse_ids), ('warehouse_src_id', 'in', warehouse_ids)]</field>
            <field name="groups" eval="[(4, ref('misl_requisition.misl_requisition_supervisor'))]"/>
        </record>

        <record id="requisition_manager_rule" model="ir.rule">
            <field name="name">Requisition Warehouse Wise Rule</field>
            <field name="model_id" ref="misl_requisition.model_requisition_master"/>
            <field name="domain_force">['|', '&amp;', ('warehouse_id', 'in', warehouse_ids),('requisition_type', 'in', ('use', 'purchase')), '&amp;', ('requisition_type', '=', 'inventory' ), '|', ('warehouse_id', 'in', warehouse_ids), ('warehouse_src_id', 'in', warehouse_ids)]</field>
            <field name="groups" eval="[(6, 0, [ref('misl_requisition.misl_requisition_manager')])]"/>
        </record>

        <record id="requisition_rule_admin" model="ir.rule">
            <field name="name">Requisition Admin Rule</field>
            <field name="model_id" ref="misl_requisition.model_requisition_master"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('misl_requisition.misl_requisition_admin'))]"/>
        </record>

<!--        <record id="requisition_operating_unit_manager" model="ir.rule">-->
<!--            <field name="name">Requisition Manager Rule</field>-->
<!--            <field name="model_id" ref="misl_requisition.model_requisition_master"/>-->
<!--            <field name="domain_force">['|', ('requester_operating_unit', '=', False), ('requester_operating_unit', 'in', operating_unit_ids)]</field>-->
<!--            <field name="groups" eval="[(4, ref('misl_requisition.misl_requisition_manager'))]"/>-->
<!--        </record>-->

    </data>
</odoo>